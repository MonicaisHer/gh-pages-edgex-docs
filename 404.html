<!DOCTYPE html>
<html>
<head>
    <title>404 Not Found</title>
    <script>
        function redirectLatest()
        {
            let req = new XMLHttpRequest();
            req.open("GET", "/versions.json", false);
            req.send();
            if(req.status === 200){
                let versions = JSON.parse(req.responseText);

                // find the version by alias
                let res = versions.find(it => {
                    return it["aliases"].find(alias => {
                        return alias == "latest";
                    });
                });

                if (res && res.version) {
                    let pathParts = window.location.pathname.split("/");
                    // replace the alias with version
                    pathParts[1] = res.version;
                    window.location.pathname = pathParts.join("/");
                } else {
                    console.error("Unable to find version with 'latest' alias.");
                    return;
                }
            }
        }

        if(window.location.pathname.split("/")[1]=="latest"){
            redirectLatest();
        }
    </script>
</head>
<body>
    <h1>404 Not Found</h1>
    <p>
        The requested page was not found.
    </p>
    <p>
        To visit the latest documentation, please visit
        <a href="https://docs.edgexfoundry.org">https://docs.edgexfoundry.org</a>.
    </p>
</body>
</html>
